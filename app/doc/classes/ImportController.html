<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ImportController</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ImportController</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/controllers/import_controller_rb.html">
                controllers/import_controller.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="ApplicationController.html">
                ApplicationController
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The import controller imports a formatted .xls spreadsheet to the data
portal.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000014">add_data_values</a>&nbsp;&nbsp;
      <a href="#M000029">category_data_column_import</a>&nbsp;&nbsp;
      <a href="#M000036">cell_category_create</a>&nbsp;&nbsp;
      <a href="#M000037">cell_category_update</a>&nbsp;&nbsp;
      <a href="#M000028">check_values</a>&nbsp;&nbsp;
      <a href="#M000013">context_export_destroy</a>&nbsp;&nbsp;
      <a href="#M000005">create_dataset_filevalue</a>&nbsp;&nbsp;
      <a href="#M000035">data_column_categories</a>&nbsp;&nbsp;
      <a href="#M000019">data_column_info_for_columnheader</a>&nbsp;&nbsp;
      <a href="#M000023">data_for_columnheader</a>&nbsp;&nbsp;
      <a href="#M000032">datetime_data_column_import</a>&nbsp;&nbsp;
      <a href="#M000011">dh_person_add_role</a>&nbsp;&nbsp;
      <a href="#M000034">find_entry_in_cat_array</a>&nbsp;&nbsp;
      <a href="#M000021">find_similar_data_groups</a>&nbsp;&nbsp;
      <a href="#M000007">freeformat_context_edit</a>&nbsp;&nbsp;
      <a href="#M000006">freeformat_file_upload</a>&nbsp;&nbsp;
      <a href="#M000026">generate_data_hash</a>&nbsp;&nbsp;
      <a href="#M000001">index</a>&nbsp;&nbsp;
      <a href="#M000040">integer?</a>&nbsp;&nbsp;
      <a href="#M000025">load_data_column</a>&nbsp;&nbsp;
      <a href="#M000027">look_for_provided_cats</a>&nbsp;&nbsp;
      <a href="#M000010">lookup_data_header_people</a>&nbsp;&nbsp;
      <a href="#M000020">methodsheet_datagroup</a>&nbsp;&nbsp;
      <a href="#M000039">numeric?</a>&nbsp;&nbsp;
      <a href="#M000030">numeric_data_column_import</a>&nbsp;&nbsp;
      <a href="#M000024">provide_metasheets</a>&nbsp;&nbsp;
      <a href="#M000008">raw_data_overview</a>&nbsp;&nbsp;
      <a href="#M000009">raw_data_per_header</a>&nbsp;&nbsp;
      <a href="#M000002">search_contexts</a>&nbsp;&nbsp;
      <a href="#M000003">step</a>&nbsp;&nbsp;
      <a href="#M000004">step_raw_data</a>&nbsp;&nbsp;
      <a href="#M000022">submethod_summary</a>&nbsp;&nbsp;
      <a href="#M000038">suggest_category_for_entry</a>&nbsp;&nbsp;
      <a href="#M000031">text_data_column_import</a>&nbsp;&nbsp;
      <a href="#M000015">update_data_group</a>&nbsp;&nbsp;
      <a href="#M000012">update_data_header</a>&nbsp;&nbsp;
      <a href="#M000017">update_import_category_change_category</a>&nbsp;&nbsp;
      <a href="#M000018">update_import_category_new_category</a>&nbsp;&nbsp;
      <a href="#M000016">update_people_for_data_header</a>&nbsp;&nbsp;
      <a href="#M000033">year_data_column_import</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000014" class="method-detail">
        <a name="M000014"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000014.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000014.html');return false;">
          <span class="method-name">add_data_values</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Adding data values to data columns. Values are imported from the workbook
that has been uploaded in the <a
href="ContextsController.html">ContextsController</a>. We save the identity
of the cell, in which the value is stored (see Measurement) as well as
value itself. Values are distributed across a limited set of tables,
Categoricvalue, Datetimevalue, Numericvalue, and <a
href="Textvalue.html">Textvalue</a>. Apart from data columns in workbooks,
one may also save free format files. (!! We still have to write the views
etc for that!!)
</p>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000029.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000029.html');return false;">
          <span class="method-name">category_data_column_import</span><span class="method-args">(data_column_id, portal_cats, sheet_cats)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Category specific routine to import values (Categoricvalue). Takes the id
of the Data Column (MeasuremntsMethodstep), categories available for the
Data Group (<a href="Methodstep.html">Methodstep</a>), and the categories
provided in the Data Sheet (<a
href="ImportController.html#M000024">provide_metasheets</a>). Creates a
Categoricvalue for each Entry in the Data Sheet (Measurement). No output
generated. Is called by <a
href="ImportController.html#M000014">add_data_values</a>.
</p>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000036.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000036.html');return false;">
          <span class="method-name">cell_category_create</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000037.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000037.html');return false;">
          <span class="method-name">cell_category_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000028.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000028.html');return false;">
          <span class="method-name">check_values</span><span class="method-args">(co, ch, cldata, datatype, first, last)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
check if data has been included as in the data sheet; numeric data; after
including the values
</p>
        </div>
      </div>

      <div id="method-M000013" class="method-detail">
        <a name="M000013"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000013.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000013.html');return false;">
          <span class="method-name">context_export_destroy</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Exports a <a href="Context.html">Context</a> for merging and correcting as
.xls file. Then destroys this context and all its values.
</p>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000005.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000005.html');return false;">
          <span class="method-name">create_dataset_filevalue</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
 Organizes the import of a data set.
</pre>
<p>
! better would be if we could write &quot;dataset_&quot; in front of the !
files
</p>
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000035.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000035.html');return false;">
          <span class="method-name">data_column_categories</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000019.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000019.html');return false;">
          <span class="method-name">data_column_info_for_columnheader</span><span class="method-args">(columnheader, methodsheet, raw_data_col_nr, data_set_id)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Assembles information for a data column (<a
href="MeasurementsMethodstep.html">MeasurementsMethodstep</a>). It uses
information imported from the metadata spreadsheet (<a
href="ImportController.html#M000024">provide_metasheets</a>, <a
href="ImportController.html#M000020">methodsheet_datagroup</a>). It is
called during the upload of the metadata spreadsheet (<a
href="ImportController.html#M000008">raw_data_overview</a>). The new data
column is by default linked to the most similar data group (<a
href="Methodstep.html">Methodstep</a>) found on the portal (<a
href="ImportController.html#M000021">find_similar_data_groups</a>). If no
similar data group is found, a dummy &quot;Helper column&quot; is linked. A
new data group can be created during user interaction if this is not
suitable. This method uses information imported from the metadata
spreadsheet (<a
href="ImportController.html#M000024">provide_metasheets</a>, <a
href="ImportController.html#M000020">methodsheet_datagroup</a>). Provenance
information is not yet included in this <a
href="ImportController.html#M000003">step</a>.
</p>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000023.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000023.html');return false;">
          <span class="method-name">data_for_columnheader</span><span class="method-args">(columnheader)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Assembles data from the raw data sheet for a given columnheader (data
column, <a href="MeasurementsMethodstep.html">MeasurementsMethodstep</a>)
of the raw data sheet. Determines the maximum row number after deleting
empty cells. The row numbers stored in the &quot;:data&quot; hash are equal
to the row numbers of the spreadsheet (starting with &quot;2&quot;, since
the first row holds the column headers).
</p>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000032.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000032.html');return false;">
          <span class="method-name">datetime_data_column_import</span><span class="method-args">(data_column_id, portal_cats, sheet_cats)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000011.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000011.html');return false;">
          <span class="method-name">dh_person_add_role</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000034.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000034.html');return false;">
          <span class="method-name">find_entry_in_cat_array</span><span class="method-args">(cat_array, entry)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000021.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000021.html');return false;">
          <span class="method-name">find_similar_data_groups</span><span class="method-args">(data_group_Title)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Uses &quot;ferret&quot; to match information given in an imported workbook
or any text to find similar data groups (see <a
href="Methodstep.html">Methodstep</a>, Admin::MethodstepsController) on the
portal.
</p>
        </div>
      </div>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000007.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000007.html');return false;">
          <span class="method-name">freeformat_context_edit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
updating a context with a free format file
</p>
        </div>
      </div>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000006.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000006.html');return false;">
          <span class="method-name">freeformat_file_upload</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <pre>
 Organizes the import of a free format file.  For this a whole new
 Context is created
</pre>
<p>
! better would be if we could write &quot;dataset_&quot; in front of the !
files
</p>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000026.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000026.html');return false;">
          <span class="method-name">generate_data_hash</span><span class="method-args">(data_array)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Takes the entire data column of a raw data sheet and converts it to a hash
which stores row numbers as key and the measurements from the spreadsheet
as hash value. Additionally deletes the first row, since this contains the
columnheader and not a measurement. The row number stored here is equal to
the row number in the spreadsheet.
</p>
        </div>
      </div>

      <div id="method-M000001" class="method-detail">
        <a name="M000001"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000001.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000001.html');return false;">
          <span class="method-name">index</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="ImportController.html#M000001">index</a> method of the import
controller collects all data sets provided to the portal (see <a
href="Context.html">Context</a>). At this stage we assume that the general
metadata was already uploaded to the portal. !! We should save files
directly when uploading general metadata and then redirect to the
&quot;upload - edit&quot; organized here.
</p>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000040.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000040.html');return false;">
          <span class="method-name">integer?</span><span class="method-args">(object)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Asks if object is a valid integer.
</p>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000025.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000025.html');return false;">
          <span class="method-name">load_data_column</span><span class="method-args">(co, ch)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000027.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000027.html');return false;">
          <span class="method-name">look_for_provided_cats</span><span class="method-args">(columnheader, categorysheet)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Look for information from the category sheet.
</p>
        </div>
      </div>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000010.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000010.html');return false;">
          <span class="method-name">lookup_data_header_people</span><span class="method-args">(ch)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The third sheet of the data workbook lists people which have collected data
found in the raw data sheet of the workbook. These people are associated to
subprojects and have roles within their subprojects. These people can be
asked if there are questions concerning data in a given column of the raw
data sheet. These people should also be considered when writing papers
using the data from this column in the rawdata sheet (see <a
href="DataRequest.html">DataRequest</a> and <a
href="DataRequestsController.html">DataRequestsController</a>).
</p>
<p>
The lookup method is only called when there are no people already
associated to a data header (see <a
href="MeasurementsMethodstep.html">MeasurementsMethodstep</a>,
MeasurementsMethodstepsController).
</p>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000020.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000020.html');return false;">
          <span class="method-name">methodsheet_datagroup</span><span class="method-args">(columnheader, methodsheet)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
During the upload process we look several times back in the spreadsheet. In
this case, we are looking for data group information (<a
href="Methodstep.html">Methodstep</a>, MethodstepsController). Data groups
consist of several data column instances (<a
href="MeasurementsMethodstep.html">MeasurementsMethodstep</a>). During
first upload (<a
href="ImportController.html#M000008">raw_data_overview</a>), we use the
information provided in the method sheet in columns 5 to 11 to guess a
similar data group from the data portal. During the upload of each single
data column from the raw data sheet (<a
href="ImportController.html#M000009">raw_data_per_header</a>), we use this
information to initialize a new data group instance which can then be
altered and saved to save this new data group on the portal.
</p>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000039.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000039.html');return false;">
          <span class="method-name">numeric?</span><span class="method-args">(object)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Asks if object is a valid float. Should not be in this controller, but
accessible from anywhere.
</p>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000030.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000030.html');return false;">
          <span class="method-name">numeric_data_column_import</span><span class="method-args">(data_column_id, portal_cats, sheet_cats)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000024.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000024.html');return false;">
          <span class="method-name">provide_metasheets</span><span class="method-args">(filename)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000008.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000008.html');return false;">
          <span class="method-name">raw_data_overview</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Directly after saving the general meta data of a meta data spreadsheet in
the <a href="ContextsController.html">ContextsController</a>, all cell
entries from the raw data sheet are saved here without checking into
instances of Measurement. This will later be mapped in value tables
(Datetimevalue, Numericvalue, Categoricvalue), but this needs user
interaction (<a
href="ImportController.html#M000009">raw_data_per_header</a>). Here, all
data columns of the spreadsheet are saved to instances of <a
href="MeasurementsMethodstep.html">MeasurementsMethodstep</a> and these
again are associated to data groups (<a
href="Methodstep.html">Methodstep</a>) by guessing (<a
href="ImportController.html#M000021">find_similar_data_groups</a>).
Provenance information for the data columns is added in the following but
separate <a href="ImportController.html#M000003">step</a> (<a
href="ImportController.html#M000009">raw_data_per_header</a>).
</p>
        </div>
      </div>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000009.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000009.html');return false;">
          <span class="method-name">raw_data_per_header</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
After the general metadata of a data set has been saved to a <a
href="Context.html">Context</a> in the <a
href="ContextsController.html">ContextsController</a> and after the cell
entries in the raw data sheet have been saved in Measurement instances (<a
href="ImportController.html#M000008">raw_data_overview</a>), this method
manages provenance information as well as data checking and allocation to
value tables (Numericvalue, Categoricvalue, etc).
</p>
        </div>
      </div>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000002.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000002.html');return false;">
          <span class="method-name">search_contexts</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Searching contexts uses &quot;ActsAsFerret&quot; to search one or several
keywords in <a href="Context.html">Context</a> or Method information. It
finds Contexts, in which the keywords appear. This is done by building at
the time of <a href="Context.html">Context</a> import.
</p>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000003.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000003.html');return false;">
          <span class="method-name">step</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Is not used at the moment but could be used to <a
href="ImportController.html#M000003">step</a> throuth the data headers of a
context. In the Multi-Step railscast, this is implemented in the model.
</p>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000004.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000004.html');return false;">
          <span class="method-name">step_raw_data</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
currently not used, was thought to <a
href="ImportController.html#M000003">step</a> through the import routine
</p>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000022.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000022.html');return false;">
          <span class="method-name">submethod_summary</span><span class="method-args">(submethod)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
this method should belong to the submethod controller. Since this is a
polymorphic association, summarising data is different for each of the
tables linked. This should be similar to the &quot;.to_label&quot; methods
that active scaffold is using. Each value table should have an own way how
to present itself
</p>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000038.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000038.html');return false;">
          <span class="method-name">suggest_category_for_entry</span><span class="method-args">(portal_cats, sheet_cats, entry)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Checking categories for exact matches, first on the portal, then in the
spreadsheet. Returns a hash with the cell_comment, stating: &quot;portal
match&quot;, &quot;sheet match&quot;, &quot;invalid&quot;. The hash also
contains the Categoricvalue if found.
</p>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000031.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000031.html');return false;">
          <span class="method-name">text_data_column_import</span><span class="method-args">(data_column_id)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000015" class="method-detail">
        <a name="M000015"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000015.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000015.html');return false;">
          <span class="method-name">update_data_group</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000012" class="method-detail">
        <a name="M000012"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000012.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000012.html');return false;">
          <span class="method-name">update_data_header</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000017" class="method-detail">
        <a name="M000017"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000017.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000017.html');return false;">
          <span class="method-name">update_import_category_change_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000018.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000018.html');return false;">
          <span class="method-name">update_import_category_new_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000016" class="method-detail">
        <a name="M000016"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000016.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000016.html');return false;">
          <span class="method-name">update_people_for_data_header</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Assingning provenance informaiton: linking people to a data column
</p>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="ImportController.src/M000033.html" target="Code" class="method-signature"
            onclick="popupCode('ImportController.src/M000033.html');return false;">
          <span class="method-name">year_data_column_import</span><span class="method-args">(data_column_id, portal_cats, sheet_cats)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>